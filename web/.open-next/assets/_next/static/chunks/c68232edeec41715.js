(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},21335,e=>{"use strict";var t=e.i(43476);e.s(["GrainOverlay",0,()=>(0,t.jsx)("div",{className:"fixed inset-0 z-50 pointer-events-none select-none overflow-hidden",children:(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E\")"},"aria-hidden":"true"})})])},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:n?24*Number(i)/Number(r):i,className:s("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),n=(e,a)=>{let n=(0,t.forwardRef)(({className:n,...o},l)=>(0,t.createElement)(i,{ref:l,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...o}));return n.displayName=r(e),n};e.s(["default",()=>n],75254)},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=e.r(71645);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=i(e,s)),t&&(a.current=i(t,s))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},65706,e=>{"use strict";var t=e.i(43476);let r={xs:24,sm:32,md:40,lg:56,xl:72,"2xl":96,"3xl":140,"4xl":180},s={xs:"text-sm",sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl","2xl":"text-4xl","3xl":"text-5xl","4xl":"text-6xl"};function a({width:e,height:r,animate:s}){return(0,t.jsxs)("svg",{width:e,height:r,viewBox:"0 0 562 677",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s?"animate-witness-float":"",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("style",{children:`
            @keyframes witness-float {
              0%, 100% { transform: translateY(0px); }
              50% { transform: translateY(-4px); }
            }
            @keyframes witness-blink {
              0%, 90%, 100% { transform: scaleY(1); }
              95% { transform: scaleY(0.1); }
            }
            .witness-logo { animation: witness-float 3s ease-in-out infinite; }
            .witness-eye { transform-origin: center; animation: witness-blink 4s ease-in-out infinite; }
            .witness-eye-right { animation-delay: 0.1s; }
          `})}),(0,t.jsxs)("g",{className:s?"witness-logo":"",children:[(0,t.jsx)("path",{fill:"#F2721B",transform:"matrix(1.03309 0 0 1.03359 -257.239 -111.627)",d:"M502.802 146.638C504.445 146.489 506.092 146.379 507.741 146.308C516.742 145.987 526.109 147.596 534.866 149.639C573.408 158.632 610.909 181.765 639.42 208.714C711.782 278.313 754.144 373.391 757.5 473.736C760.565 592.154 689.223 694.303 570.106 715.036C557.341 717.258 543.65 719.187 530.707 719.493C517.498 719.422 506.57 720.081 492.929 719.217C452.081 716.799 411.84 706.222 376.84 685.309C310.417 645.618 274.541 578.313 281.517 501.017C283.084 483.651 283.818 469.951 288.296 452.546C302.934 395.642 339.124 346.114 386.262 311.562C418.409 287.689 459.715 271.231 481.612 236.594C492.607 219.202 495.383 195.911 492.144 175.782C491.255 171.27 488.778 166.93 487.844 162.462C485.34 150.476 493.351 148.413 502.802 146.638Z"}),(0,t.jsx)("g",{className:s?"witness-eye":"",children:(0,t.jsx)("path",{fill:"#111",transform:"matrix(1.03309 0 0 1.03359 -257.239 -111.627)",d:"M469.933 378.615C505.43 374.996 511.149 436 495.945 457.292C489.517 466.295 486.331 469.687 475.28 472.446C438.649 474.295 434.325 415.232 449.364 392.704C454.863 384.466 460.285 380.801 469.933 378.615Z"})}),(0,t.jsx)("g",{className:s?"witness-eye witness-eye-right":"",children:(0,t.jsx)("path",{fill:"#111",transform:"matrix(1.03309 0 0 1.03359 -257.239 -111.627)",d:"M620.035 378.148C626.482 378.296 630.976 379.508 636.384 383.44C660.819 401.208 659.024 468.491 623.675 472.63C618.016 472.495 612.524 470.688 607.889 467.438C581.548 449.016 583.612 384.405 620.035 378.148Z"})}),(0,t.jsx)("path",{fill:"#111",transform:"matrix(1.03309 0 0 1.03359 -257.239 -111.627)",d:"M517.004 505.027C538.873 504.243 563.397 506.276 585.111 509.275C596.265 510.815 598.628 526.67 585.847 533.548C578.548 534.866 554.728 532.145 545.888 531.83C536.383 531.031 526.229 531.768 516.883 529.937C510.464 528.679 507.38 519.126 509.346 513.516C511.312 507.906 510.519 505.277 517.004 505.027Z"})]})]})}function i({size:e="md",className:i="",showWordmark:n=!1,animate:o=!0}){let l=r[e],c=Math.round(677/562*l);return n?(0,t.jsxs)("div",{className:`flex items-center gap-2 ${i}`,children:[(0,t.jsx)(a,{width:l,height:c,animate:o}),(0,t.jsxs)("span",{className:`font-black tracking-tighter ${s[e]}`,children:["YOU",(0,t.jsx)("span",{className:"text-[#F2721B]",children:"+"})]})]}):(0,t.jsx)("div",{className:i,children:(0,t.jsx)(a,{width:l,height:c,animate:o})})}e.s(["WitnessLogo",()=>i])},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return l},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return o}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});function i(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,n(e));else t.set(r,n(s));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(90809)._(e.r(98183)),n=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,s=e.protocol||"",a=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let d=e.search||l&&`?${l}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${c}${a}${d}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return f},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return w},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return g},ST:function(){return x},WEB_VITALS:function(){return i},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return l},isResSent:function(){return h},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return j}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&h(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let g="undefined"!=typeof performance,x=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return i}});let s=e.r(18967),a=e.r(52817);function i(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return f},useLinkStatus:function(){return y}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(90809),n=e.r(43476),o=i._(e.r(71645)),l=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),h=e.r(5550);e.r(33525);let m=e.r(91949),p=e.r(73668),g=e.r(9396);function x(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function f(t){var r;let s,a,i,[l,f]=(0,o.useOptimistic)(m.IDLE_LINK_STATUS),y=(0,o.useRef)(null),{href:w,as:v,children:j,prefetch:k=null,passHref:N,replace:C,shallow:S,scroll:A,onClick:P,onMouseEnter:O,onTouchStart:_,legacyBehavior:D=!1,onNavigate:E,ref:z,unstable_dynamicOnHover:F,...R}=t;s=j,D&&("string"==typeof s||"number"==typeof s)&&(s=(0,n.jsx)("a",{children:s}));let M=o.default.useContext(c.AppRouterContext),T=!1!==k,W=!1!==k?null===(r=k)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:L,as:I}=o.default.useMemo(()=>{let e=x(w);return{href:e,as:v?x(v):e}},[w,v]);if(D){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=o.default.Children.only(s)}let $=D?a&&"object"==typeof a&&a.ref:z,U=o.default.useCallback(e=>(null!==M&&(y.current=(0,m.mountLinkInstance)(e,L,M,W,T,f)),()=>{y.current&&((0,m.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,m.unmountPrefetchableInstance)(e)}),[T,L,M,W,f]),B={ref:(0,d.useMergedRef)(U,$),onClick(t){D||"function"!=typeof P||P(t),D&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!M||t.defaultPrevented||function(t,r,s,a,i,n,l){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,p.isLocalURL)(r)){i&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);o.default.startTransition(()=>{u(s||r,i?"replace":"push",n??!0,a.current)})}}(t,L,I,y,C,A,E)},onMouseEnter(e){D||"function"!=typeof O||O(e),D&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),M&&T&&(0,m.onNavigationIntent)(e.currentTarget,!0===F)},onTouchStart:function(e){D||"function"!=typeof _||_(e),D&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),M&&T&&(0,m.onNavigationIntent)(e.currentTarget,!0===F)}};return(0,u.isAbsoluteUrl)(I)?B.href=I:D&&!N&&("a"!==a.type||"href"in a.props)||(B.href=(0,h.addBasePath)(I)),i=D?o.default.cloneElement(a,B):(0,n.jsx)("a",{...R,...B,children:s}),(0,n.jsx)(b.Provider,{value:l,children:i})}e.r(84508);let b=(0,o.createContext)(m.IDLE_LINK_STATUS),y=()=>(0,o.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},71558,e=>{"use strict";e.i(47167);var t=e.i(16973);async function r(e){if(0===e.length)throw Error("No audio blobs provided");if(1===e.length)return s(e[0]);let t=new(window.AudioContext||window.webkitAudioContext);try{let r=[];for(let s=0;s<e.length;s++){let a=e[s];try{let e=await a.arrayBuffer(),s=await t.decodeAudioData(e);r.push(s)}catch(e){throw console.error(`[AudioMerge] Failed to decode audio ${s+1}:`,e),Error(`Failed to decode audio file ${s+1}: ${e}`)}}let s=Math.max(...r.map(e=>e.sampleRate)),i=0;for(let e of r){let t=Math.ceil(e.length*(s/e.sampleRate));i+=t}let n=t.createBuffer(1,i,s),o=n.getChannelData(0),l=0;for(let e of r){let t=function(e){if(1===e.numberOfChannels)return e.getChannelData(0);let t=new Float32Array(e.length),r=e.numberOfChannels;for(let s=0;s<r;s++){let a=e.getChannelData(s);for(let s=0;s<e.length;s++)t[s]+=a[s]/r}return t}(e);if(e.sampleRate!==s){let r=function(e,t,r){let s=t/r,a=Math.ceil(e.length/s),i=new Float32Array(a);for(let t=0;t<a;t++){let r=t*s,a=Math.floor(r),n=Math.min(a+1,e.length-1),o=r-a;i[t]=e[a]*(1-o)+e[n]*o}return i}(t,e.sampleRate,s);o.set(r,l),l+=r.length}else o.set(t,l),l+=t.length}return a(n)}finally{await t.close()}}async function s(e){let t=new(window.AudioContext||window.webkitAudioContext);try{let r=await e.arrayBuffer(),s=await t.decodeAudioData(r);return a(s)}finally{await t.close()}}function a(e){let t=e.numberOfChannels,r=e.sampleRate,s=2*t,a=e.length*s,n=44+a,o=new ArrayBuffer(n),l=new DataView(o);i(l,0,"RIFF"),l.setUint32(4,n-8,!0),i(l,8,"WAVE"),i(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,t,!0),l.setUint32(24,r,!0),l.setUint32(28,r*s,!0),l.setUint16(32,s,!0),l.setUint16(34,16,!0),i(l,36,"data"),l.setUint32(40,a,!0);let c=44;for(let r=0;r<e.length;r++)for(let s=0;s<t;s++){let t=Math.max(-1,Math.min(1,e.getChannelData(s)[r])),a=t<0?32768*t:32767*t;l.setInt16(c,a,!0),c+=2}return new Blob([o],{type:"audio/wav"})}function i(e,t,r){for(let s=0;s<r.length;s++)e.setUint8(t+s,r.charCodeAt(s))}var n=e.i(81307);let o=["audio/webm","audio/wav","audio/mp3","audio/mpeg","audio/ogg","audio/m4a","audio/mp4"],l=e=>{let t=e.includes(",")?e.split(",")[1]:e;return t?Math.floor(3*t.length/4):0},c=n.z.string().min(1,"audio required").refine(e=>!!(e.startsWith("http://")||e.startsWith("https://"))||l(e)>=10240,{message:"Audio too small (minimum 10KB required)"}).refine(e=>!!(e.startsWith("http://")||e.startsWith("https://"))||0xa00000>=l(e),{message:"Audio too large (maximum 10MB allowed)"}).refine(e=>{let t;if(e.startsWith("http://")||e.startsWith("https://"))return!0;let r=(t=e.match(/^data:([^;,]+)/))?t[1]:null;return!r||o.includes(r)},{message:`Invalid audio type. Allowed: ${o.join(", ")}`}),d=n.z.object({name:n.z.string().optional(),times_tried:n.z.union([n.z.number(),n.z.string()]).optional(),core_identity:n.z.string().min(1,"core_identity is required"),primary_pillar:n.z.string().optional(),dark_future:n.z.string().optional(),quit_pattern:n.z.string().optional(),favorite_excuse:n.z.string().optional(),who_disappointed:n.z.array(n.z.string()).optional(),selected_pillars:n.z.array(n.z.string()).min(1,"selected_pillars required"),future_self_intro_recording:c,why_recording:c,pledge_recording:c,merged_voice_recording:n.z.string().optional(),call_time:n.z.string().optional(),timezone:n.z.string().optional(),future_self_statement:n.z.string().optional(),favorite_excuse_context:n.z.string().optional()});var u=e.i(5636);let h=new Map,m=new class{STORAGE_KEY="youplus_onboarding_data";VOICE_KEY="youplus_onboarding_voice";saveData(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch{console.error("Failed to save data")}}getData(){try{let e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):{}}catch{return{}}}async saveVoice(e,t){return h.set(t,e),new Promise((r,s)=>{let a=new FileReader;a.onloadend=()=>{try{let s=a.result,i=this.getVoiceData();i[t]={data:s,timestamp:Date.now(),size:e.size,type:e.type},localStorage.setItem(this.VOICE_KEY,JSON.stringify(i)),r(s)}catch(e){console.error("Failed to save voice:",e),s(e)}},a.onerror=s,a.readAsDataURL(e)})}getVoiceBlob(e){return h.get(e)}getAllVoiceBlobs(){return h}async getMergedVoiceRecording(){let e=["future_self_intro_recording","why_recording","pledge_recording"],t=[];for(let r of e){let e=h.get(r);e&&t.push(e)}if(0===t.length){console.warn("[Storage] No voice blobs found in cache for merging");let r=this.getVoiceData();for(let s of e){let e=r[s]?.data;if(e)try{let r=await this.base64ToBlob(e);t.push(r)}catch(e){console.error(`[Storage] Failed to convert ${s} to blob:`,e)}}}if(0===t.length)return console.error("[Storage] No voice recordings available for merging"),null;try{let e=await r(t);return new Promise((t,r)=>{let s=new FileReader;s.onloadend=()=>{let e=s.result;t(e)},s.onerror=r,s.readAsDataURL(e)})}catch(e){return console.error("[Storage] Failed to merge voice recordings:",e),null}}async base64ToBlob(e){return(await fetch(e)).blob()}getVoiceData(){try{let e=localStorage.getItem(this.VOICE_KEY);return e?JSON.parse(e):{}}catch{return{}}}getVoice(e){let t=this.getVoiceData();return t[e]?.data||null}clearOnboardingData(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.VOICE_KEY),h.clear()}hasOnboardingData(){return Object.keys(this.getData()).length>0}getAllOnboardingData(){return{formData:this.getData(),voiceData:this.getVoiceData()}}async pushOnboardingData(e={}){let{onProgress:r,maxRetries:s=3}=e,{formData:a,voiceData:i}=this.getAllOnboardingData();if(!this.hasOnboardingData())return{success:!0};if(!(0,u.isOnline)())return r?.({step:"error",message:"No internet connection. Please check your connection and try again.",isOffline:!0}),{success:!1,error:"No internet connection",isRetryable:!0,errorCode:"network"};r?.({step:"validating",message:"Preparing your data..."});let n={...a};try{n.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){console.warn("[Storage] Could not detect timezone, using UTC"),n.timezone="UTC"}for(let[e,t]of Object.entries(i))t.data&&(n[e]=t.data);r?.({step:"merging_audio",message:"Processing your voice recordings..."});try{let e=await this.getMergedVoiceRecording();e?n.merged_voice_recording=e:console.warn("[Storage] Could not create merged voice recording")}catch(e){console.error("[Storage] Failed to merge voice recordings:",e)}let o=["future_self_intro_recording","why_recording","pledge_recording"].filter(e=>!n[e]);o.length>0&&console.warn("[Storage] Missing required voice recordings:",o);let l=d.safeParse(n);if(!l.success)return console.error("[Storage] Onboarding payload validation failed:",l.error.flatten()),r?.({step:"error",message:"Some of your data is incomplete. Please go back and fill in all required fields."}),{success:!1,error:"Invalid onboarding data. Please complete all required fields.",isRetryable:!1,errorCode:"validation"};r?.({step:"uploading",message:"Creating your Future Self...",attempt:1,maxAttempts:s});try{let e=null;if(await (0,u.withRetry)(async()=>{e=await t.apiClient.post("/api/onboarding/conversion/complete",l.data)},{maxAttempts:s,initialDelay:2e3,maxDelay:15e3,backoffMultiplier:2,isRetryable:e=>!(e instanceof t.ApiClientError)||e.isRetryable,onRetry:(e,a,i)=>{let n=a instanceof t.ApiClientError?a.userMessage:"Connection issue";r?.({step:"uploading",message:`${n}. Retrying...`,attempt:e+1,maxAttempts:s,retryingIn:i,isOffline:!(0,u.isOnline)()})}}),!e)throw Error("No response from server");let{jobId:a,status:i}=e;r?.({step:"processing",message:"Processing your voice recordings...",jobId:a,progress:10});let n=await this.pollJobStatus(a,r);if(!n.success)return{success:!1,error:n.error||"Processing failed",isRetryable:!0,errorCode:"server",jobId:a};return this.clearOnboardingData(),r?.({step:"complete",message:"Your Future Self is ready!",jobId:a,progress:100}),{success:!0,jobId:a}}catch(i){console.error("[Storage] Failed to push onboarding data:",i);let e="Failed to save your data. Please try again.",s="unknown",a=!0;return i instanceof t.ApiClientError&&(e=i.userMessage,a=i.isRetryable,i.isTimeout?s="timeout":i.isNetworkError?s="network":i.statusCode>=500&&(s="server")),r?.({step:"error",message:e,isOffline:!(0,u.isOnline)()}),{success:!1,error:e,isRetryable:a,errorCode:s}}}async pollJobStatus(e,r){let s=Date.now(),a={queued:"Preparing your data...",transcribing:"Transcribing your voice recordings...",cloning_voice:"Creating your personalized voice...",uploading_audio:"Saving your recordings...",saving_data:"Finalizing your Future Self...",done:"Almost there..."};for(;Date.now()-s<3e5;)try{let s=await t.apiClient.get(`/api/onboarding/status/${e}`),i=a[s.currentStep||""]||"Processing...";if(r?.({step:"processing",message:i,jobId:e,progress:s.progress||50,currentStep:s.currentStep}),"completed"===s.status)return{success:!0};if("failed"===s.status)return{success:!1,error:s.error||"Processing failed. Please try again."};await new Promise(e=>setTimeout(e,2e3))}catch(t){if(console.error("[Storage] Error polling job status:",t),!(0,u.isOnline)()){r?.({step:"processing",message:"Waiting for connection...",jobId:e,isOffline:!0}),await new Promise(e=>setTimeout(e,4e3));continue}return{success:!1,error:"Unable to check processing status. Please refresh the page."}}return{success:!1,error:"Processing is taking longer than expected. Please refresh the page."}}};e.s(["storageService",0,m],71558)},18453,e=>{"use strict";var t=e.i(43476);function r({message:e="Loading..."}){return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-[#0D0D0D] text-white",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white border-t-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-white/60 font-mono",children:e})]})}function s({message:e="Loading..."}){return(0,t.jsxs)("div",{className:"w-full rounded-md border border-white/10 bg-[#0A0A0A] px-4 py-6 text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-3 h-8 w-8 animate-spin rounded-full border-2 border-white/30 border-t-transparent"}),(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/50",children:e})]})}function a({message:e="Saving..."}){return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-3 rounded-md border border-white/10 bg-[#0D0D0D] px-6 py-5",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-[#F97316] border-t-transparent"}),(0,t.jsx)("p",{className:"text-sm font-mono uppercase tracking-[0.2em] text-white/70",children:e})]})]})}e.s(["FullPageLoader",()=>r,"SavingOverlay",()=>a,"SectionLoader",()=>s])},21999,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(66643),a=e.i(9186),i=e.i(18566),n=e.i(18453),o=e.i(71558);function l({children:e,redirectTo:a="/auth/login",fallback:o}){let{isAuthenticated:l,loading:c}=(0,s.useAuth)(),d=(0,i.useRouter)(),u=(0,i.usePathname)(),h=(0,i.useSearchParams)(),m=(0,r.useMemo)(()=>{let e=h?.toString();return e?`${u}?${e}`:u},[u,h]),p=(0,r.useMemo)(()=>{let e=a.includes("?")?"&":"?";return`${a}${e}next=${encodeURIComponent(m)}`},[a,m]);return((0,r.useEffect)(()=>{c||l||d.push(p)},[l,c,p,d]),c)?o||(0,t.jsx)(n.FullPageLoader,{message:"Checking authenticationâ€¦"}):l?(0,t.jsx)(t.Fragment,{children:e}):null}function c(e){return(0,t.jsx)(r.Suspense,{fallback:e.fallback||(0,t.jsx)(n.FullPageLoader,{message:"Loadingâ€¦"}),children:(0,t.jsx)(l,{...e})})}function d({children:e,fallback:l}){let{isAuthenticated:c,loading:d}=(0,s.useAuth)(),{isActive:u,onboardingCompleted:h,loading:m}=(0,a.useSubscription)(),p=(0,i.useRouter)(),g=(0,i.usePathname)();if((0,r.useEffect)(()=>{if(d||m)return;if(!c)return void p.replace(`/auth/login?next=${encodeURIComponent(g)}`);let e=o.storageService.hasOnboardingData();h||e?e&&!h?p.replace("/setup"):u||p.replace("/checkout"):p.replace("/onboarding")},[d,m,c,u,h,p,g]),d||m)return l||(0,t.jsx)(n.FullPageLoader,{message:"Loading..."});let x=o.storageService.hasOnboardingData(),f=c&&u&&(h||x);return(!x||h)&&f?(0,t.jsx)(t.Fragment,{children:e}):null}function u(e){return(0,t.jsx)(r.Suspense,{fallback:e.fallback||(0,t.jsx)(n.FullPageLoader,{message:"Loadingâ€¦"}),children:(0,t.jsx)(d,{...e})})}e.s(["ActiveUserGuard",()=>u,"AuthGuard",()=>c])},43432,25652,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>r],43432);let s=(0,t.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},24279,e=>{"use strict";let t=["It's cooked honestly","Mid at best","Not terrible but not good","Decent, ready to level up"],r=[{id:"gym",label:"Gym",icon:"ðŸ‹ï¸",description:"Get jacked, build muscle, look better",category:"body",currentStateOptions:["Skinny fat or just skinny","Used to lift, fell off hard","Go sometimes but no real progress","Consistent but want better results"],goalPrompt:"What's the physique goal?",futurePrompt:"When you've built the body you want, how does life change?"},{id:"fighting",label:"Fighting",icon:"ðŸ¥Š",description:"MMA, boxing, BJJ, martial arts",category:"body",currentStateOptions:["Never trained, would get destroyed","Did a few classes, didn't stick","Train but inconsistent","Training regularly, want to compete"],goalPrompt:"What martial art or combat sport?",futurePrompt:"When you can handle yourself, what's different?"},{id:"diet",label:"Diet",icon:"ðŸ—",description:"Eat clean, hit macros, stop eating garbage",category:"body",currentStateOptions:["Uber Eats and energy drinks","Try to eat clean, last 2 days max","Okay during the week, weekends wreck it","Pretty dialed, want to optimize"],goalPrompt:"What's the nutrition goal?",futurePrompt:"When your diet is locked in, how do you feel?"},{id:"sleep",label:"Sleep",icon:"ðŸ’¤",description:"Stop doomscrolling at 3am, wake up early",category:"body",currentStateOptions:["Phone till 4am, dead all day","Sleep schedule is random as hell","Get some sleep but always tired","Decent, want to optimize for energy"],goalPrompt:"What time you trying to wake up?",futurePrompt:"When you wake up with energy every day, what changes?"},{id:"running",label:"Cardio",icon:"ðŸƒ",description:"Running, swimming, endurance, not dying after stairs",category:"body",currentStateOptions:["Get winded walking upstairs","Hate cardio, avoid it completely","Do some but hate every second","Cardio is decent, want to push it"],goalPrompt:"What's the cardio goal?",futurePrompt:"When your endurance is elite, what can you do?"},{id:"focus",label:"Focus",icon:"ðŸŽ¯",description:"Stop getting distracted, deep work, lock in",category:"mind",currentStateOptions:["Can't focus for 5 minutes without checking phone","Start tasks, get sidetracked instantly","Focus in bursts but burn out","Pretty focused, want laser mode"],goalPrompt:"What do you need to focus on?",futurePrompt:"When you can lock in for hours, what do you build?"},{id:"discipline",label:"Discipline",icon:"âš”ï¸",description:"Do what you say, stop being soft",category:"mind",currentStateOptions:["Zero discipline, always take the easy path","Motivated for a day then back to old ways","Disciplined sometimes, inconsistent","Pretty disciplined, want to be unbreakable"],goalPrompt:"What requires more discipline?",futurePrompt:"When discipline is automatic, who do you become?"},{id:"confidence",label:"Confidence",icon:"ðŸ‘‘",description:"Stop second-guessing, back yourself",category:"mind",currentStateOptions:["Barely speak up, doubt everything I do","Confident online, different irl","Confident in some areas, not others","Pretty confident, want unshakeable"],goalPrompt:"Where do you want more confidence?",futurePrompt:"When you fully back yourself, how do you move?"},{id:"anxiety",label:"Anxiety",icon:"ðŸ§ ",description:"Stop overthinking, calm the mental noise",category:"mind",currentStateOptions:["Anxious about everything, brain never stops","Overthink every decision and conversation","Manageable but still gets me sometimes","Mostly good, want full control"],goalPrompt:"What triggers the anxiety most?",futurePrompt:"When your mind is calm, how do you show up?"},{id:"addiction",label:"Addiction",icon:"ðŸ”“",description:"Porn, gaming, social media, substances - break free",category:"mind",currentStateOptions:["Addicted and it's ruining my life","Know it's a problem, can't stop","Trying to quit, keep relapsing","Mostly clean, preventing relapse"],goalPrompt:"What are you trying to quit?",futurePrompt:"When you're free from it, what do you get back?"},{id:"income",label:"Income",icon:"ðŸ’µ",description:"Make more money, level up earnings",category:"money",currentStateOptions:["Broke or barely scraping by","Make some but it's never enough","Decent income, want way more","Good money, want to scale"],goalPrompt:"What's the income goal?",futurePrompt:"When you're making real money, what's life like?"},{id:"business",label:"Business",icon:"ðŸš€",description:"Start something, stop working for someone else",category:"money",currentStateOptions:["Want to start but no idea where to begin","Have ideas but never execute","Side hustle but not making real money","Business running, want to scale"],goalPrompt:"What kind of business?",futurePrompt:"When your business is thriving, what does your day look like?"},{id:"investing",label:"Investing",icon:"ðŸ“ˆ",description:"Stocks, crypto, real estate - make money work",category:"money",currentStateOptions:["No investments, don't know where to start","Threw money at stuff, lost it","Some investments, no real strategy","Investing regularly, want to optimize"],goalPrompt:"What do you want to invest in?",futurePrompt:"When your portfolio is stacked, what's possible?"},{id:"career",label:"Career",icon:"ðŸ’¼",description:"Get promoted, switch jobs, level up professionally",category:"money",currentStateOptions:["Dead-end job or unemployed","Job is mid, going nowhere","Decent job, want something better","Good position, want to climb faster"],goalPrompt:"What's the career goal?",futurePrompt:"When you've made it professionally, where are you?"},{id:"skills",label:"Skills",icon:"ðŸ› ï¸",description:"Coding, design, marketing - learn high-value skills",category:"money",currentStateOptions:["No valuable skills honestly","Started learning, never finished anything","Know some stuff, not enough to monetize","Have skills, want to master them"],goalPrompt:"What skill do you want to learn?",futurePrompt:"When you've mastered this skill, what can you build?"},{id:"dating",label:"Dating",icon:"ðŸ’˜",description:"Get better with women, stop being awkward",category:"game",currentStateOptions:["No game, barely talk to girls","Match on apps but convos go nowhere","Get dates but can't close","Doing okay, want to level up"],goalPrompt:"What's the dating goal?",futurePrompt:"When your dating life is handled, how do you feel?"},{id:"social",label:"Social Skills",icon:"ðŸ—£ï¸",description:"Network, make friends, stop being awkward in groups",category:"game",currentStateOptions:["Awkward af, hate social situations","Fine 1-on-1, freeze in groups","Can socialize but don't enjoy it","Pretty social, want to be magnetic"],goalPrompt:"What social situation do you want to master?",futurePrompt:"When you're naturally charismatic, what changes?"},{id:"status",label:"Status",icon:"ðŸ”",description:"Build reputation, become respected, be the guy",category:"game",currentStateOptions:["Nobody knows who I am","Known but not respected","Respected in some circles, not others","Got status, want more influence"],goalPrompt:"What do you want to be known for?",futurePrompt:"When you've built your reputation, who looks up to you?"},{id:"style",label:"Style",icon:"ðŸ‘”",description:"Dress better, grooming, first impressions",category:"game",currentStateOptions:["Wear the same 3 outfits on repeat","Know I dress bad, don't know what to do","Okay style, nothing stands out","Dress well, want to be iconic"],goalPrompt:"What's the style you're going for?",futurePrompt:"When your style is dialed in, how do people see you?"},{id:"nofap",label:"NoFap",icon:"ðŸ”¥",description:"Quit porn, retain energy, rewire your brain",category:"lifestyle",currentStateOptions:["Daily habit, can't go a day without","Try to quit, never make it past a week","Some streaks but always relapse","Long streak, want to make it permanent"],goalPrompt:"What's your goal streak?",futurePrompt:"When you're fully rewired, what changes?"},{id:"dopamine",label:"Dopamine Detox",icon:"ðŸ“µ",description:"Less phone, less gaming, less instant gratification",category:"lifestyle",currentStateOptions:["Screen time is embarrassing","Phone is first thing I check, last thing at night","Cut back some, still too much","Pretty controlled, want full control"],goalPrompt:"What do you need to cut out?",futurePrompt:"When you're not a slave to screens, what do you do instead?"},{id:"morning",label:"Morning Routine",icon:"ðŸŒ…",description:"Stop waking up at noon, own your mornings",category:"lifestyle",currentStateOptions:["Wake up, scroll, already behind","No routine, every morning is chaos","Have a routine, don't follow it","Pretty good mornings, want them locked"],goalPrompt:"What does your ideal morning look like?",futurePrompt:"When you win every morning, how does the day go?"},{id:"reading",label:"Reading",icon:"ðŸ“š",description:"Read more books, less Twitter threads",category:"lifestyle",currentStateOptions:["Haven't finished a book in years","Buy books, never read them","Read sometimes, not consistently","Read regularly, want to read more"],goalPrompt:"How many books per month?",futurePrompt:"When reading is a habit, what knowledge do you have?"},{id:"journaling",label:"Journaling",icon:"ðŸ“",description:"Get thoughts out of your head, think clearer",category:"lifestyle",currentStateOptions:["Never journaled in my life","Tried it, felt weird, stopped","Journal sometimes when stressed","Journal regularly, want to go deeper"],goalPrompt:"What do you want journaling to do for you?",futurePrompt:"When journaling is automatic, how clear is your mind?"},{id:"meditation",label:"Meditation",icon:"ðŸ§˜",description:"Calm mind, less reactive, more present",category:"lifestyle",currentStateOptions:["Can't sit still for 30 seconds","Tried apps, never stuck with it","Meditate sometimes, hard to be consistent","Regular practice, want to go deeper"],goalPrompt:"What do you want meditation to give you?",futurePrompt:"When you can control your mind, what's different?"},{id:"cold_showers",label:"Cold Showers",icon:"ðŸ¥¶",description:"Build mental toughness, start hard",category:"lifestyle",currentStateOptions:["Never, sounds terrible","Tried once, never again","Sometimes, when I remember","Regular, want to make it daily"],goalPrompt:"How long can you go?",futurePrompt:"When cold doesn't faze you, what else becomes easy?"}];function s(e){return r.find(t=>t.id===e)}function a(e){return r.filter(t=>t.category===e)}function i(){return["body","mind","money","game","lifestyle"]}function n(e){let r=e.replace("custom_","").replace(/_/g," ");return{id:e,label:r.charAt(0).toUpperCase()+r.slice(1),icon:"ðŸŽ¯",description:"Your custom focus area",category:"lifestyle",currentStateOptions:t,goalPrompt:"What's the goal?",futurePrompt:"When you've made it, what does it look like?"}}e.s(["GENERIC_CURRENT_STATE_OPTIONS",0,t,"MAX_PILLARS",0,5,"MIN_PILLARS",0,1,"PILLAR_PRESETS",0,r,"createCustomPillar",()=>n,"getCategories",()=>i,"getPillarById",()=>s,"getPillarsByCategory",()=>a])},98919,e=>{"use strict";let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},30257,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(22016),i=e.i(134);let n={currentStreak:0,longestStreak:0,trustScore:50,promisesKeptTotal:0,promisesBrokenTotal:0,promisesKeptLast7Days:0,promisesBrokenLast7Days:0,totalCalls:0,successRate:0};var o=e.i(75254);let l=(0,o.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var c=e.i(43432);let d=({targetDate:e})=>{let[s,a]=(0,r.useState)({hours:0,minutes:0,seconds:0}),[i,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!e)return void d(!0);let t=setInterval(()=>{let t=new Date,r=e.getTime()-t.getTime();if(r<=0){a({hours:0,minutes:0,seconds:0}),d(!0);return}let s=Math.floor(r/36e5),i=Math.floor(r%36e5/6e4);a({hours:s,minutes:i,seconds:Math.floor(r%6e4/1e3)}),n(0===s&&i<30),d(!1)},1e3);return()=>clearInterval(t)},[e]);let u=e=>e.toString().padStart(2,"0"),h=e=>e?e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toUpperCase():"--:--";return o?(0,t.jsx)("div",{className:"bg-white text-black p-8 md:p-10 relative overflow-hidden",children:(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#F97316] opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-[#F97316]"})]}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/50",children:"Call Window Open"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-black flex items-center justify-center",children:(0,t.jsx)(c.Phone,{size:28,className:"text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-black text-2xl md:text-3xl tracking-tight uppercase",children:"Expecting Your Call"}),(0,t.jsx)("p",{className:"text-sm text-black/50 mt-1",children:"Keep your phone nearby."})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start md:items-end",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/40 mb-1",children:"Scheduled"}),(0,t.jsx)("span",{className:"font-black text-4xl md:text-5xl tracking-tighter",children:h(e)})]})]})]})}):i?(0,t.jsxs)("div",{className:"bg-[#F97316] text-black p-8 md:p-10 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute -top-12 -right-12 w-48 h-48 bg-black/10 blur-3xl"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-black/40 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-black"})]}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/70",children:"Almost Time"})]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-3 md:gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"font-black text-6xl md:text-8xl tracking-tighter leading-none",children:u(s.hours)}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/50 mt-2",children:"hrs"})]}),(0,t.jsx)("span",{className:"font-black text-4xl md:text-6xl text-black/30 self-start mt-2",children:":"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"font-black text-6xl md:text-8xl tracking-tighter leading-none",children:u(s.minutes)}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/50 mt-2",children:"min"})]}),(0,t.jsx)("span",{className:"font-black text-4xl md:text-6xl text-black/30 self-start mt-2",children:":"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"font-black text-6xl md:text-8xl tracking-tighter leading-none text-black/40",children:u(s.seconds)}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/50 mt-2",children:"sec"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t border-black/20 pt-4",children:[(0,t.jsx)("p",{className:"text-sm text-black/60",children:"Prepare yourself. The call is coming soon."}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-black/40",children:"At"}),(0,t.jsx)("span",{className:"font-bold text-lg",children:h(e)})]})]})]})]}):(0,t.jsx)("div",{className:"bg-[#0A0A0A] border border-white/10 p-8 md:p-10 relative overflow-hidden",children:(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white/10 flex items-center justify-center",children:(0,t.jsx)(l,{size:18,className:"text-white/50"})}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/50",children:"Next Check-In"})]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-3 md:gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"font-black text-6xl md:text-8xl tracking-tighter leading-none text-white",children:u(s.hours)}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/30 mt-2",children:"hrs"})]}),(0,t.jsx)("span",{className:"font-black text-4xl md:text-6xl text-white/20 self-start mt-2",children:":"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"font-black text-6xl md:text-8xl tracking-tighter leading-none text-white",children:u(s.minutes)}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/30 mt-2",children:"min"})]}),(0,t.jsx)("span",{className:"font-black text-4xl md:text-6xl text-white/20 self-start mt-2",children:":"}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"font-black text-6xl md:text-8xl tracking-tighter leading-none text-white/30",children:u(s.seconds)}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/30 mt-2",children:"sec"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t border-white/10 pt-4",children:[(0,t.jsx)("p",{className:"text-sm text-white/40",children:"You'll receive a call at your scheduled time."}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/30",children:"At"}),(0,t.jsx)("span",{className:"font-bold text-lg text-white/70",children:h(e)})]})]})]})})};var u=e.i(98919);let h=(0,o.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),m=(0,o.default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),p=(0,o.default)("skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);var g=e.i(25652);let x=(0,o.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),f=({status:e,trustScore:r,hasCompletedFirstCall:s=!0})=>{if(!s)return(0,t.jsx)("div",{className:"bg-[#0A0A0A] border border-white/10 p-6 relative overflow-hidden",children:(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/10 flex items-center justify-center",children:(0,t.jsx)(l,{size:24,className:"text-white/40"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40 mb-1",children:"Status Pending"}),(0,t.jsx)("h3",{className:"font-black text-xl tracking-tight text-white/50 uppercase",children:"Awaiting Data"})]})]}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-white/40 mb-6",children:"Your trust score will be calculated after your first call."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/30",children:"Trust Level"}),(0,t.jsx)("span",{className:"font-black text-2xl text-white/20",children:"--%"})]}),(0,t.jsx)("div",{className:"h-2 w-full bg-white/10 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full w-1/2 bg-white/5"})})]})]})});let a=r>=80?{icon:u.Shield,bgColor:"bg-white",iconColor:"text-black",borderColor:"border-white",label:"LOCKED IN",sublabel:"Identity Aligned",message:"Your actions match your words. Keep showing up.",trend:"up",barColor:"bg-white"}:r>=50?{icon:h,bgColor:"bg-white/20",iconColor:"text-white",borderColor:"border-white/30",label:"DRIFTING",sublabel:"Attention Needed",message:"The gap between words and actions is growing.",trend:"down",barColor:"bg-white/50"}:r>=25?{icon:m,bgColor:"bg-[#F97316]",iconColor:"text-black",borderColor:"border-[#F97316]",label:"SLIPPING",sublabel:"Pattern Detected",message:"You're breaking promises. Time for honest reflection.",trend:"down",barColor:"bg-[#F97316]"}:{icon:p,bgColor:"bg-[#F97316]",iconColor:"text-black",borderColor:"border-[#F97316]",label:"CRITICAL",sublabel:"Intervention Required",message:"Stop. You can turn this around with the next call.",trend:"down",barColor:"bg-[#F97316]"},i=a.icon;return(0,t.jsxs)("div",{className:`bg-[#0A0A0A] border ${a.borderColor} p-6 relative overflow-hidden`,children:[(0,t.jsx)("div",{className:"absolute -bottom-4 -right-2 text-8xl font-black opacity-[0.05] text-white pointer-events-none leading-none select-none",children:r}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-12 h-12 ${a.bgColor} flex items-center justify-center`,children:(0,t.jsx)(i,{size:24,className:a.iconColor,strokeWidth:2.5})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/50 mb-1",children:a.sublabel}),(0,t.jsx)("h3",{className:"font-black text-xl tracking-tight text-white uppercase",children:a.label})]})]}),(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 ${"up"===a.trend?"bg-white text-black":"bg-white/10 text-white/60"}`,children:["up"===a.trend?(0,t.jsx)(g.TrendingUp,{size:14}):(0,t.jsx)(x,{size:14}),(0,t.jsx)("span",{className:"text-xs font-bold uppercase",children:"up"===a.trend?"Rising":"Falling"})]})]}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-white/50 mb-5",children:a.message}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40",children:"Trust"}),(0,t.jsxs)("span",{className:"font-black text-3xl text-white",children:[r,"%"]})]}),(0,t.jsx)("div",{className:"h-2 w-full bg-white/10 overflow-hidden",children:(0,t.jsx)("div",{className:`h-full transition-all duration-700 ease-out ${a.barColor}`,style:{width:`${r}%`}})})]}),e&&(0,t.jsxs)("div",{className:"mt-5 pt-5 border-t border-white/10 grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40 mb-1",children:"Calls"}),(0,t.jsx)("p",{className:"font-black text-2xl text-white",children:e.total_calls_completed})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40 mb-1",children:"Best"}),(0,t.jsxs)("p",{className:"font-black text-2xl text-white",children:[e.longest_streak_days,"d"]})]})]})]})]})};var b=e.i(43531),y=e.i(37727);let w=(0,o.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var v=e.i(18453);let j=({label:e,value:r,variant:s="default",icon:a,subtext:i,isEmpty:n})=>n?(0,t.jsxs)("div",{className:"border border-dashed border-white/10 bg-[#0A0A0A] p-6 flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a&&(0,t.jsx)("div",{className:"w-10 h-10 bg-white/5 flex items-center justify-center text-white/30",children:a}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/30",children:e})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"font-black text-5xl leading-none tracking-tight text-white/20",children:"--"})})]}):(0,t.jsxs)("div",{className:`border ${{default:"bg-[#0A0A0A] border-white/10 hover:border-white/20",positive:"bg-[#0A0A0A] border-white/20 hover:border-white/30",negative:"bg-[#0A0A0A] border-[#F97316]/30 hover:border-[#F97316]/50"}[s]} p-6 flex flex-col justify-between transition-all duration-200`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a&&(0,t.jsx)("div",{className:`w-10 h-10 flex items-center justify-center ${{default:"text-white/50 bg-white/10",positive:"text-white bg-white/20",negative:"text-[#F97316] bg-white/10"}[s]}`,children:a}),(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/50",children:e})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:`font-black text-5xl leading-none tracking-tight ${{default:"text-white",positive:"text-white",negative:"text-[#F97316]"}[s]}`,children:r}),i&&(0,t.jsx)("p",{className:"text-xs text-white/40 mt-3",children:i})]})]}),k=({stats:e,hasCompletedFirstCall:r=!0,isLoading:s=!1})=>{if(s)return(0,t.jsx)(v.SectionLoader,{message:"Loading stats"});let a=e.promisesKeptTotal+e.promisesBrokenTotal,i=a>0?Math.round(e.promisesKeptTotal/a*100):0;return r?(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsx)(j,{label:"Kept",value:e.promisesKeptTotal,variant:"positive",icon:(0,t.jsx)(b.Check,{size:18,strokeWidth:3}),subtext:a>0?`${i}% rate`:void 0}),(0,t.jsx)(j,{label:"Broken",value:e.promisesBrokenTotal,variant:"negative",icon:(0,t.jsx)(y.X,{size:18,strokeWidth:3}),subtext:e.promisesBrokenLast7Days>0?`${e.promisesBrokenLast7Days} this week`:void 0}),(0,t.jsx)(j,{label:"Alignment",value:`${e.identityAlignment??e.trustScore}%`,variant:"default",icon:(0,t.jsx)(w,{size:18,strokeWidth:2.5}),subtext:e.transformationStatus||void 0})]}):(0,t.jsx)("div",{className:"border border-dashed border-white/10 p-8 bg-[#0A0A0A]",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/10 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(l,{size:24,className:"text-white/40"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40 mb-2",children:"Awaiting First Call"}),(0,t.jsx)("p",{className:"font-bold text-xl tracking-tight text-white/60 mb-2",children:"Your stats will appear here"}),(0,t.jsx)("p",{className:"text-sm text-white/40 leading-relaxed",children:"Complete your first call to start tracking."})]})]})})};var N=e.i(24279);let C=(0,o.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),S=(0,o.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),A=(0,o.default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),P=e=>{let t=(0,N.getPillarById)(e);if(t)return{icon:t.icon,label:t.label};let r=e.replace(/^custom_/,"").replace(/_/g," ");return{icon:"â­",label:r.charAt(0).toUpperCase()+r.slice(1)}},O=({pillar:e,isPrimary:r})=>{var s;let{icon:a,label:i}=P(e.pillar),n=(s=e.trust_score)>=80?{label:"Strong",color:"text-white",barColor:"bg-white"}:s>=60?{label:"Building",color:"text-white/70",barColor:"bg-white/70"}:s>=40?{label:"Fragile",color:"text-[#F97316]",barColor:"bg-[#F97316]"}:{label:"Broken",color:"text-[#F97316]",barColor:"bg-[#F97316]"};return(0,t.jsxs)("div",{className:`group relative p-6 transition-all duration-200 ${r?"bg-[#0A0A0A] border-2 border-[#F97316]":"bg-[#0A0A0A] border border-white/10 hover:border-white/20"}`,children:[r&&(0,t.jsxs)("div",{className:"absolute -top-3 left-4 flex items-center gap-1.5 bg-[#F97316] text-black text-xs font-bold uppercase tracking-wide px-3 py-1",children:[(0,t.jsx)(S,{size:10,fill:"currentColor"}),"Primary"]}),(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/10 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:a})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-base tracking-tight leading-tight text-white uppercase",children:i}),(0,t.jsx)("span",{className:`text-xs font-bold uppercase tracking-wide ${n.color}`,children:n.label})]})]}),e.consecutive_broken>=2?(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#F97316] text-black",children:[(0,t.jsx)(x,{size:12,strokeWidth:2.5}),(0,t.jsxs)("span",{className:"text-xs font-bold",children:[e.consecutive_broken,"d"]})]}):e.consecutive_kept>=3?(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white text-black",children:[(0,t.jsx)(g.TrendingUp,{size:12,strokeWidth:2.5}),(0,t.jsxs)("span",{className:"text-xs font-bold",children:[e.consecutive_kept,"d"]})]}):(0,t.jsx)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-white/10 text-white/40",children:(0,t.jsx)(C,{size:12,strokeWidth:2.5})})]}),(0,t.jsx)("p",{className:"text-sm text-white/50 mb-5 line-clamp-2 min-h-[2.5rem] leading-relaxed",children:e.future_state||e.identity_statement}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40",children:"Trust"}),(0,t.jsxs)("span",{className:"font-black text-xl text-white",children:[e.trust_score,"%"]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-white/10 overflow-hidden",children:(0,t.jsx)("div",{className:`h-full transition-all duration-700 ease-out ${n.barColor}`,style:{width:`${e.trust_score}%`}})})]}),e.non_negotiable&&(0,t.jsxs)("div",{className:"mt-5 pt-5 border-t border-white/10",children:[(0,t.jsx)("p",{className:"text-xs font-mono uppercase tracking-[0.2em] text-white/40 mb-2",children:"Non-Negotiable"}),(0,t.jsx)("p",{className:"text-sm text-white/60 line-clamp-2 leading-relaxed",children:e.non_negotiable})]})]})},_=({pillars:e,primaryPillar:r,hasCompletedFirstCall:s=!0})=>{if(!e||0===e.length)return(0,t.jsxs)("div",{className:"border border-dashed border-white/10 p-10 text-center bg-[#0A0A0A]",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-white/10 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(A,{size:28,className:"text-white/40"})}),(0,t.jsx)("p",{className:"text-base text-white/50 mb-2 font-bold uppercase tracking-wide",children:"No pillars defined yet"}),(0,t.jsx)("p",{className:"text-sm text-white/30",children:"Complete onboarding to set up your pillars"})]});if(!s){let s=[...e].sort((e,t)=>e.pillar===r?-1:+(t.pillar===r));return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:`grid gap-4 opacity-40 ${2===e.length?"grid-cols-1 sm:grid-cols-2":3===e.length?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":4===e.length?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"}`,children:s.map(e=>{let{icon:s,label:a}=P(e.pillar),i=e.pillar===r;return(0,t.jsxs)("div",{className:`relative border border-dashed p-6 ${i?"border-white/30":"border-white/15"} bg-[#0A0A0A]`,children:[i&&(0,t.jsxs)("div",{className:"absolute -top-3 left-4 flex items-center gap-1.5 bg-white/20 text-white/50 text-xs font-bold uppercase px-3 py-1",children:[(0,t.jsx)(S,{size:10}),"Primary"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 mt-1",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/10 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl grayscale",children:s})}),(0,t.jsx)("h4",{className:"font-bold text-base tracking-tight text-white/50 uppercase",children:a})]}),(0,t.jsx)("div",{className:"h-2 bg-white/10 w-full mb-3"}),(0,t.jsx)("div",{className:"h-2 bg-white/10 w-3/4"})]},e.id)})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-[#0A0A0A] border-2 border-[#F97316] px-8 py-4",children:(0,t.jsx)("p",{className:"font-bold text-sm tracking-tight text-center text-white uppercase",children:"Complete your first call to unlock"})})})]})}let a=[...e].sort((e,t)=>e.pillar===r?-1:t.pillar===r?1:t.trust_score-e.trust_score);return(0,t.jsx)("div",{className:`grid gap-4 ${2===e.length?"grid-cols-1 sm:grid-cols-2":3===e.length?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":4===e.length?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"}`,children:a.map(e=>(0,t.jsx)(O,{pillar:e,isPrimary:e.pillar===r},e.id))})};var D=e.i(65706),E=e.i(21335);let z=(0,o.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),F=(0,o.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),R=(0,o.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var M=e.i(72520),T=e.i(86470);function W({onLogout:e}){let o,l,c,u,h,p=(0,s.useRouter)(),{data:g,loading:x}=(o=(0,i.useDashboardStore)(i.selectDashboardData),l=(0,i.useDashboardStore)(i.selectDashboardLoading),c=(0,i.useDashboardStore)(i.selectDashboardError),u=(0,i.useDashboardStore)(e=>e.fetchData),h=(0,i.useDashboardStore)(e=>e.refresh),(0,r.useEffect)(()=>{u()},[u]),{data:o,loading:l,error:c,refresh:h,user:o?.user??null,status:o?.status??null,stats:o?.stats??n,nextCallTime:o?.nextCallTime??null,recentCalls:o?.recentCalls??[],subscription:o?.subscription??null,futureSelf:o?.futureSelf??null,pillars:o?.pillars??[],pillarAlignment:o?.pillarAlignment??null}),[b,y]=(0,r.useState)(null),[w,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await T.paymentService.getSubscriptionStatus();y(e)}catch(e){console.error("[Dashboard] Error fetching subscription:",e)}finally{j(!1)}})()},[]);let N=!g&&(x||w),C=!!g&&(x||w);if(N)return(0,t.jsx)(v.FullPageLoader,{message:"Preparing your dashboard"});if(!g)return null;let S=g.stats.totalCalls>0,P=g.stats.currentStreak>=7,O=0===g.stats.currentStreak?"Complete your first call to start.":g.stats.currentStreak>=30?"Legendary. Keep going.":g.stats.currentStreak>=7?"You're on fire. Don't stop now.":"Don't break the chain.",W=b?.hasActiveSubscription,L=g.futureSelf?.core_identity||g.pillars&&g.pillars.length>0,I=W&&!L;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#0A0A0A] text-[#FAFAFA] relative",children:[(0,t.jsx)(E.GrainOverlay,{}),I&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md"}),(0,t.jsx)("div",{className:"relative z-10 bg-[#0A0A0A] border-2 border-[#F97316] p-10 max-w-md mx-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-[#F97316] flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(A,{size:32,className:"text-black"})}),(0,t.jsx)("h2",{className:"font-black text-2xl md:text-3xl tracking-tight mb-3 uppercase",children:"Complete Your Setup"}),(0,t.jsx)("p",{className:"text-sm text-white/60 mb-8 leading-relaxed",children:"Define your future self and set up your pillars to get personalized AI coaching."}),(0,t.jsxs)("button",{onClick:()=>p.push("/onboarding"),className:"w-full bg-[#F97316] text-black px-8 py-4 text-sm font-bold uppercase tracking-wide hover:bg-[#FB923C] transition-colors flex items-center justify-center gap-3",children:[(0,t.jsx)("span",{children:"Start Onboarding"}),(0,t.jsx)(M.ArrowRight,{size:18})]}),(0,t.jsx)("button",{onClick:e,className:"mt-4 text-xs text-white/40 hover:text-white/60 transition-colors",children:"Sign out"})]})})]}),!W&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md"}),(0,t.jsx)("div",{className:"relative z-10 bg-[#0A0A0A] border-2 border-[#F97316] p-10 max-w-md mx-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-[#F97316] flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("span",{className:"text-3xl font-black text-black",children:"!"})}),(0,t.jsx)("h2",{className:"font-black text-2xl md:text-3xl tracking-tight mb-3 uppercase",children:"Subscription Required"}),(0,t.jsx)("p",{className:"text-sm text-white/60 mb-8 leading-relaxed",children:"Unlock your potential with You+ Pro. Get daily AI coaching calls and track your transformation."}),(0,t.jsxs)("button",{onClick:()=>p.push("/checkout"),className:"w-full bg-[#F97316] text-black px-8 py-4 text-sm font-bold uppercase tracking-wide hover:bg-[#FB923C] transition-colors flex items-center justify-center gap-3",children:[(0,t.jsx)("span",{children:"Subscribe Now"}),(0,t.jsx)(M.ArrowRight,{size:18})]}),(0,t.jsx)("button",{onClick:e,className:"mt-4 text-xs text-white/40 hover:text-white/60 transition-colors",children:"Sign out"})]})})]}),(0,t.jsx)("nav",{className:`fixed top-0 left-0 right-0 z-40 bg-[#0A0A0A]/90 backdrop-blur-md border-b border-white/10 ${!W||I?"blur-sm pointer-events-none":""}`,children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto px-6 h-16 flex justify-between items-center",children:[(0,t.jsx)(a.default,{href:"/dashboard",className:"flex items-center gap-2",children:(0,t.jsx)(D.WitnessLogo,{size:"sm",showWordmark:!0})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>p.push("/account/settings"),className:"text-sm text-white/60 hover:text-white transition-colors flex items-center gap-2",children:[(0,t.jsx)(F,{size:16}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Settings"})]}),(0,t.jsxs)("button",{onClick:e,className:"text-sm text-white/50 hover:text-white transition-colors flex items-center gap-2",children:[(0,t.jsx)(z,{size:16}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),(0,t.jsxs)("main",{className:`pt-16 relative z-10 ${!W||I?"blur-sm pointer-events-none":""}`,children:[(0,t.jsx)("section",{className:"px-6 py-12 md:py-16",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto",children:[(0,t.jsx)("div",{className:"inline-block border border-white/30 px-4 py-2 text-xs font-mono uppercase tracking-[0.2em] text-white mb-4",children:"WELCOME BACK"}),(0,t.jsx)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black leading-[0.95] tracking-tight",children:g.user?.name?.split(" ")[0]||"User"})]})}),(0,t.jsx)("section",{className:"px-6 pb-24",children:(0,t.jsx)("div",{className:"max-w-[1200px] mx-auto",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)(d,{targetDate:g.nextCallTime}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.3em] text-[#F97316]",children:"THE RECORD"}),(0,t.jsx)("div",{className:"flex-1 h-px bg-white/10"})]}),(0,t.jsx)(k,{stats:g.stats,hasCompletedFirstCall:S,isLoading:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase tracking-[0.3em] text-[#F97316]",children:"YOUR PILLARS"}),(0,t.jsx)("div",{className:"flex-1 h-px bg-white/10"}),g.pillars&&g.pillars.length>0&&(0,t.jsxs)("span",{className:"text-xs text-white/40",children:[g.pillars.length," Active"]})]}),g.pillars&&g.pillars.length>0?(0,t.jsx)(_,{pillars:g.pillars,primaryPillar:g.futureSelf?.primary_pillar,hasCompletedFirstCall:S}):(0,t.jsx)("div",{className:"border border-dashed border-white/20 p-8",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white/10 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(A,{size:24,className:"text-white/40"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-lg tracking-tight mb-2 text-white/60",children:"No pillars defined"}),(0,t.jsx)("p",{className:"text-sm text-white/40",children:"Complete onboarding to set up your pillars."})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(f,{status:g.status,trustScore:g.stats.trustScore,hasCompletedFirstCall:S}),(0,t.jsxs)("div",{className:`p-6 relative overflow-hidden ${P?"bg-[#F97316] text-black":"bg-[#0A0A0A] border border-white/10 text-white"}`,children:[P&&(0,t.jsx)("div",{className:"absolute -top-8 -right-8 w-32 h-32 bg-black/10 blur-2xl"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-10 h-10 flex items-center justify-center ${P?"bg-black/20":"bg-white/10"}`,children:P?(0,t.jsx)(m,{size:20,className:"text-white"}):(0,t.jsx)(R,{size:20,className:"text-white/50"})}),(0,t.jsx)("span",{className:`text-xs font-mono uppercase tracking-[0.2em] ${P?"text-black/60":"text-white/50"}`,children:"Streak"})]}),g.stats.longestStreak>0&&(0,t.jsxs)("span",{className:`text-xs ${P?"text-black/50":"text-white/40"}`,children:["Best: ",g.stats.longestStreak,"d"]})]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2 mb-3",children:[(0,t.jsx)("span",{className:"font-black text-6xl tracking-tighter leading-none",children:g.stats.currentStreak}),(0,t.jsx)("span",{className:`text-sm uppercase tracking-widest ${P?"text-black/50":"text-white/50"}`,children:"Days"})]}),(0,t.jsx)("p",{className:`text-sm leading-relaxed ${P?"text-black/70":"text-white/50"}`,children:O})]})]})]})]})})})]})]})}var L=e.i(43174),I=e.i(21999),$=e.i(56158);function U(){let e=(0,r.useRef)(!1);(0,r.useEffect)(()=>{e.current||($.analytics.dashboardViewed(),e.current=!0)},[]);let s=async()=>{try{$.analytics.authLogout(),await L.authService.signOut(),window.location.href="/"}catch(e){console.error("[DASHBOARD] Sign out error:",e),window.location.href="/"}};return(0,t.jsx)(I.ActiveUserGuard,{children:(0,t.jsx)(W,{onLogout:s})})}e.s(["default",()=>U],30257)}]);